<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Anicha4ever - Flower Arranging</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&family=Amatic+SC:wght@700&family=Varela+Round&display=swap" rel="stylesheet">
    <style>
        body {
            background-color: #EBCBCB; /* Antique Baby Pink */
            font-family: 'Varela Round', sans-serif;
        }
        
        .handwritten {
            font-family: 'Dancing Script', cursive;
        }

        .hebrew-handwritten {
            font-family: 'Amatic SC', cursive;
        }

        /* Animation for adding flowers */
        @keyframes popIn {
            0% { transform: scale(0) rotate(0deg); opacity: 0; }
            80% { transform: scale(1.1); }
            100% { transform: scale(1); opacity: 1; }
        }

        .flower-in-vase {
            animation: popIn 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275) forwards;
            transform-origin: bottom center;
        }

        /* Vase layering logic to make stems look like they are inside */
        .vase-container {
            position: relative;
            z-index: 10;
        }
        .flower-layer {
            z-index: 5;
        }
        .vase-front {
            z-index: 20;
            pointer-events: none; /* Let clicks pass through */
        }
        
        /* Vase change transitions */
        #flower-container, #vase-display {
            transition: all 0.5s ease-in-out;
        }
    </style>
</head>
<body class="min-h-screen flex flex-col items-center justify-between p-4 text-[#4A3B3B]">

    <!-- Header -->
    <header class="w-full text-center mt-4 mb-8">
        <h1 class="handwritten text-6xl md:text-8xl text-[#8B5E5E] drop-shadow-sm">Anicha4ever</h1>
        <p class="hebrew-handwritten text-2xl mt-2 text-[#6D4C4C]">住专 转 专 砖</p>
    </header>

    <!-- Main Game Area -->
    <main class="flex flex-col md:flex-row w-full max-w-5xl gap-8 items-center justify-center flex-grow">
        
        <!-- Left Side: The Vase (Canvas) -->
        <div class="relative w-full md:w-1/2 h-[550px] flex justify-center items-end pb-10 border-b-2 border-[#8B5E5E]/20 md:border-none group/vase-area">
            
            <!-- Right Arrow (Next Vase) -->
            <button onclick="cycleVase(1)" class="absolute right-2 md:right-8 top-1/2 transform -translate-y-1/2 z-30 p-2 text-[#8B5E5E]/60 hover:text-[#8B5E5E] hover:scale-125 transition-all focus:outline-none" title=" ">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-12 w-12" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
                </svg>
            </button>

            <!-- Left Arrow (Prev Vase) -->
            <button onclick="cycleVase(-1)" class="absolute left-2 md:left-8 top-1/2 transform -translate-y-1/2 z-30 p-2 text-[#8B5E5E]/60 hover:text-[#8B5E5E] hover:scale-125 transition-all focus:outline-none" title=" 拽">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-12 w-12" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" />
                </svg>
            </button>

            <!-- Vase Wrapper to align flowers and vase SVG -->
            <div class="relative flex justify-center items-end">
                
                <!-- Flowers Container (Sit "inside" the vase) -->
                <!-- Bottom and width are set dynamically by JS based on vase type -->
                <div id="flower-container" class="absolute bottom-[160px] w-[200px] h-[300px] pointer-events-none flower-layer">
                    <!-- Flowers will be injected here via JS -->
                </div>

                <!-- The Vase Drawing (SVG) -->
                <div id="vase-display" class="relative w-[240px] h-[240px] vase-front">
                    <!-- SVG injected by JS -->
                </div>
            </div>
            
            <!-- Reset Button -->
            <button onclick="clearVase()" class="absolute bottom-0 md:bottom-4 bg-white/50 hover:bg-white/80 px-4 py-2 rounded-full text-sm font-bold transition-all flex items-center gap-2 shadow-sm text-[#8B5E5E]" title="专拽  (转 砖)">
                <span> 转 砖</span>
            </button>
        </div>

        <!-- Right Side: Flower Selection -->
        <div class="w-full md:w-1/2 flex flex-col items-center">
            <h2 class="hebrew-handwritten text-4xl mb-6">专 驻专:</h2>
            <div class="grid grid-cols-2 gap-6">
                
                <!-- Rose -->
                <!--  1.  驻 转 拽 砖驻注 注 驻转专 注爪  -->
                <button onclick="addFlower('rose')" class="group flex flex-col items-center p-4 bg-white/40 rounded-xl hover:bg-white/70 transition-all transform hover:scale-105 shadow-sm border border-white/50">
                    <div class="w-16 h-16 mb-2">
                        <!-- 驻砖专 拽 转 -svg  拽 拽 <img src="URL"> -->
                        <svg viewBox="0 0 100 100" class="w-full h-full overflow-visible">
                            <!-- Stem -->
                            <path d="M50,90 Q50,70 50,50" stroke="green" stroke-width="3" fill="none"/>
                            <!-- Rose Head -->
                            <path d="M30,30 Q50,10 70,30 Q80,50 50,70 Q20,50 30,30" fill="#E84A5F" stroke="#C0392B" stroke-width="2"/>
                            <path d="M40,40 Q50,30 60,40" fill="none" stroke="#800000" stroke-width="2"/>
                        </svg>
                    </div>
                    <span class="font-bold">专</span>
                </button>

                <!-- Tulip -->
                <button onclick="addFlower('tulip')" class="group flex flex-col items-center p-4 bg-white/40 rounded-xl hover:bg-white/70 transition-all transform hover:scale-105 shadow-sm border border-white/50">
                    <div class="w-16 h-16 mb-2">
                        <svg viewBox="0 0 100 100" class="w-full h-full overflow-visible">
                            <path d="M50,90 Q55,70 50,50" stroke="green" stroke-width="3" fill="none"/>
                            <path d="M35,30 Q30,60 50,70 Q70,60 65,30 L50,45 L35,30" fill="#FFB7B2" stroke="#E57373" stroke-width="2"/>
                        </svg>
                    </div>
                    <span class="font-bold">驻</span>
                </button>

                <!-- Lily -->
                <button onclick="addFlower('lily')" class="group flex flex-col items-center p-4 bg-white/40 rounded-xl hover:bg-white/70 transition-all transform hover:scale-105 shadow-sm border border-white/50">
                    <div class="w-16 h-16 mb-2">
                        <svg viewBox="0 0 100 100" class="w-full h-full overflow-visible">
                            <path d="M50,90 L50,50" stroke="green" stroke-width="3" fill="none"/>
                            <path d="M50,50 Q30,20 20,40 Q40,50 50,50" fill="white" stroke="#FFA500" stroke-width="1"/>
                            <path d="M50,50 Q70,20 80,40 Q60,50 50,50" fill="white" stroke="#FFA500" stroke-width="1"/>
                            <path d="M50,50 Q50,10 50,30" fill="none" stroke="#FFA500" stroke-width="2"/>
                        </svg>
                    </div>
                    <span class="font-bold"></span>
                </button>

                <!-- Peony -->
                <button onclick="addFlower('peony')" class="group flex flex-col items-center p-4 bg-white/40 rounded-xl hover:bg-white/70 transition-all transform hover:scale-105 shadow-sm border border-white/50">
                    <div class="w-16 h-16 mb-2">
                        <svg viewBox="0 0 100 100" class="w-full h-full overflow-visible">
                            <path d="M50,90 Q45,70 50,50" stroke="green" stroke-width="3" fill="none"/>
                            <circle cx="40" cy="40" r="15" fill="#F8BBD0" stroke="#EC407A" stroke-width="1" opacity="0.8"/>
                            <circle cx="60" cy="40" r="15" fill="#F8BBD0" stroke="#EC407A" stroke-width="1" opacity="0.8"/>
                            <circle cx="50" cy="30" r="15" fill="#F48FB1" stroke="#EC407A" stroke-width="1"/>
                            <circle cx="50" cy="50" r="12" fill="#F06292" stroke="#EC407A" stroke-width="1"/>
                        </svg>
                    </div>
                    <span class="font-bold">驻</span>
                </button>

            </div>
        </div>
    </main>

    <!-- Footer: Anicha Explanation -->
    <footer class="w-full max-w-4xl mt-12 bg-white/30 backdrop-blur-sm p-6 rounded-t-2xl border-t border-white/40">
        <h3 class="font-bold text-xl mb-2 text-[#8B5E5E]">  爪' (Anicca)?</h3>
        <p class="text-md leading-relaxed">
            , <strong>爪'</strong> (Anicca)  转驻住 砖 <strong>专注转</strong>. 
             转 转 砖 专 转 -    专   - 爪 爪 转 砖 砖. 
            砖 专  砖专 爪. 拽  专 驻专:  转 爪, 驻专  专, 住祝 . 
             拽 砖 注  砖 爪转 砖转 驻转 砖专专 住 爪专转 砖 驻转.
        </p>
    </footer>

    <!-- JavaScript Logic -->
    <script>
        const flowerContainer = document.getElementById('flower-container');
        const vaseDisplay = document.getElementById('vase-display');

        // Vase Definitions (SVG + Configuration)
        const vaseList = [
            {
                id: 'square',
                svg: `
                    <svg viewBox="0 0 200 200" class="w-full h-full drop-shadow-xl">
                        <path d="M40,40 L160,40 L155,190 L45,190 Z" fill="white" stroke="#4A3B3B" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M50,50 L55,150" stroke="#E5E5E5" stroke-width="2" stroke-linecap="round"/>
                        <path d="M160,40 Q165,115 155,190" stroke="#4A3B3B" stroke-width="3" stroke-linecap="round" fill="none"/>
                    </svg>`,
                config: { bottom: '160px', width: '200px' }
            },
            {
                id: 'round',
                svg: `
                    <svg viewBox="0 0 200 200" class="w-full h-full drop-shadow-xl">
                        <path d="M50,50 L150,50 Q190,110 150,180 L50,180 Q10,110 50,50 Z" fill="white" stroke="#4A3B3B" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M60,60 Q30,110 60,160" stroke="#E5E5E5" stroke-width="2" stroke-linecap="round" fill="none"/>
                        <path d="M150,50 Q190,110 150,180" stroke="#4A3B3B" stroke-width="3" stroke-linecap="round" fill="none"/>
                    </svg>`,
                config: { bottom: '145px', width: '220px' } 
            },
            {
                id: 'tall',
                svg: `
                    <svg viewBox="0 0 200 200" class="w-full h-full drop-shadow-xl">
                        <path d="M65,20 L135,20 L130,190 L70,190 Z" fill="white" stroke="#4A3B3B" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M75,30 L80,180" stroke="#E5E5E5" stroke-width="2" stroke-linecap="round"/>
                        <path d="M135,20 Q140,100 130,190" stroke="#4A3B3B" stroke-width="3" stroke-linecap="round" fill="none"/>
                    </svg>`,
                config: { bottom: '185px', width: '130px' }
            }
        ];

        let currentVaseIndex = 0;

        function updateVaseDisplay() {
            const vase = vaseList[currentVaseIndex];
            // Update SVG
            vaseDisplay.innerHTML = vase.svg;
            // Update Flower Container Position with animation
            flowerContainer.style.bottom = vase.config.bottom;
            flowerContainer.style.width = vase.config.width;
        }

        function cycleVase(direction) {
            // Direction: 1 for next, -1 for prev
            currentVaseIndex += direction;
            
            // Handle wrap-around
            if (currentVaseIndex >= vaseList.length) {
                currentVaseIndex = 0;
            } else if (currentVaseIndex < 0) {
                currentVaseIndex = vaseList.length - 1;
            }

            updateVaseDisplay();
        }

        // Set default on load
        updateVaseDisplay();

        // ---------------------------------------------------------
        //  2.  爪 拽 砖 驻专 砖住  
        // ---------------------------------------------------------
        //  "驻转" ( rose, tulip)  转 拽 -HTML/SVG 砖 驻专 砖住祝 .
        // 砖 : 抓 砖爪专   爪专  (注 注).
        // 转  拽 转 专砖 (`) 拽 <svg> 砖  转转 <img src="...">.
        
        const flowerSVGs = {
            rose: `
                <svg viewBox="0 0 100 300" class="w-full h-full overflow-visible" preserveAspectRatio="none">
                    <path d="M50,300 Q45,200 50,50" stroke="#2E7D32" stroke-width="4" fill="none"/>
                    <path d="M50,150 Q70,140 80,160" stroke="#2E7D32" stroke-width="3" fill="#4CAF50" opacity="0.8"/>
                    <g transform="translate(0, -20)">
                        <path d="M30,50 Q50,20 70,50 Q80,80 50,100 Q20,80 30,50" fill="#E84A5F" stroke="#C0392B" stroke-width="2"/>
                        <path d="M40,60 Q50,40 60,60" fill="none" stroke="#800000" stroke-width="2"/>
                        <path d="M50,50 Q65,65 50,80 Q35,65 50,50" fill="#D32F2F" opacity="0.5"/>
                    </g>
                </svg>`,
            tulip: `
                <svg viewBox="0 0 100 300" class="w-full h-full overflow-visible" preserveAspectRatio="none">
                    <path d="M50,300 Q55,200 50,50" stroke="#388E3C" stroke-width="4" fill="none"/>
                    <path d="M50,200 Q30,180 20,220" stroke="#388E3C" stroke-width="3" fill="#66BB6A" opacity="0.8"/>
                    <g transform="translate(0, -20)">
                        <path d="M35,40 Q30,80 50,90 Q70,80 65,40 L50,60 L35,40" fill="#FFB7B2" stroke="#E57373" stroke-width="2"/>
                    </g>
                </svg>`,
            lily: `
                <svg viewBox="0 0 100 300" class="w-full h-full overflow-visible" preserveAspectRatio="none">
                    <path d="M50,300 L50,50" stroke="#43A047" stroke-width="3" fill="none"/>
                    <g transform="translate(0, -10)">
                        <path d="M50,50 Q20,10 10,40 Q40,60 50,50" fill="white" stroke="#FFA500" stroke-width="1"/>
                        <path d="M50,50 Q80,10 90,40 Q60,60 50,50" fill="white" stroke="#FFA500" stroke-width="1"/>
                        <path d="M50,50 Q50,0 50,30" fill="white" stroke="#FFA500" stroke-width="1"/>
                        <circle cx="50" cy="50" r="5" fill="#FFD54F"/>
                    </g>
                </svg>`,
            peony: `
                <svg viewBox="0 0 100 300" class="w-full h-full overflow-visible" preserveAspectRatio="none">
                    <path d="M50,300 Q48,150 50,50" stroke="#1B5E20" stroke-width="4" fill="none"/>
                    <g transform="translate(0, -10) scale(1.2)">
                        <circle cx="40" cy="40" r="15" fill="#F8BBD0" stroke="#EC407A" stroke-width="1"/>
                        <circle cx="60" cy="40" r="15" fill="#F8BBD0" stroke="#EC407A" stroke-width="1"/>
                        <circle cx="50" cy="30" r="15" fill="#F48FB1" stroke="#EC407A" stroke-width="1"/>
                        <circle cx="50" cy="50" r="12" fill="#F06292" stroke="#EC407A" stroke-width="1"/>
                    </g>
                </svg>`
        };

        function addFlower(type) {
            // Create a wrapper div for the flower
            const flowerWrapper = document.createElement('div');
            flowerWrapper.className = 'absolute flower-in-vase';
            flowerWrapper.style.width = '100px';
            flowerWrapper.style.height = '300px';
            
            // Randomize position and rotation for natural look
            // Move left/right slightly
            const randomLeft = Math.floor(Math.random() * 80) + 10; // 10% to 90%
            // Rotate slightly (-20deg to 20deg)
            const randomRotate = Math.floor(Math.random() * 40) - 20;
            // Height variation
            const randomBottom = Math.floor(Math.random() * 30) - 10;
            // Z-index random to shuffle layers
            const randomZ = Math.floor(Math.random() * 10);

            flowerWrapper.style.left = `calc(${randomLeft}% - 50px)`;
            flowerWrapper.style.bottom = `${randomBottom}px`;
            flowerWrapper.style.transform = `rotate(${randomRotate}deg)`;
            flowerWrapper.style.zIndex = randomZ;

            // Insert SVG content
            flowerWrapper.innerHTML = flowerSVGs[type];

            // Add to container
            flowerContainer.appendChild(flowerWrapper);

            // Limit max flowers
            if (flowerContainer.children.length > 20) {
                flowerContainer.removeChild(flowerContainer.firstChild);
            }
        }

        function clearVase() {
            flowerContainer.innerHTML = '';
        }
    </script>
</body>
</html>
